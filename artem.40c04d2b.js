var form=document.querySelector(".js-search"),list=document.querySelector(".list"),BASE_URL="http://api.weatherapi.com/v1/forecast.json",API_KEY="6d9e1f9bc39549bdb1b181332221811";function onSearch(n){n.preventDefault();var e=n.currentTarget.elements,t=e.query.value,r=e.days.value;t?forecastApi(t,r).then((function(n){return creatMarkup(n.forecast.forecastday)})):alert("–ü–æ–ª–µ –ø—É—Å—Ç–µ üò¢")}function creatMarkup(n){var e=n.map((function(n){return'<li>\n    <img src="'.concat(n.day.condition.icon,'" alt="">\n    <span>').concat(n.day.condition.text,"</span>\n    <h2>–î–µ–Ω—å: ").concat(n.date,"</h2>\n    <h3>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: ").concat(n.day.avgtemp_c,"&#8451;</h3>\n</li>")})).join("");list.innerHTML=e}function forecastApi(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Kiev",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;return fetch("".concat(BASE_URL,"?key=").concat(API_KEY,"&q=").concat(n,"&days=").concat(e)).then((function(n){if(console.log(n),!n.ok)throw new Error(n.statusText);return n.json()})).catch((function(n){return console.error(n)}))}form.addEventListener("submit",onSearch);list=document.querySelector(".list");var guard=document.querySelector(".js-guard"),options={root:null,rootMargin:"300px",threshold:1},page=0,observer=new IntersectionObserver(onLoad,options);function onLoad(n,e){n.forEach((function(n){n.isIntersecting&&ringsApi(page+=1).then((function(n){list.insertAdjacentHTML("beforeend",createMarkup(n.docs)),n.page===n.pages&&e.unobserve(guard)}))})),console.log(n)}function ringsApi(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e={headers:{Authorization:"Bearer XJlq9OFMcHAy8pAQK7xj"}},t="https://the-one-api.dev/v2/character";return fetch("".concat(t,"?limit=300&page=").concat(n),e).then((function(n){if(!n.ok)throw new Error;return n.json()}))}function createMarkup(n){return n.map((function(n){var e=n.name,t=n.race;return"<li>\n    <h2>".concat(e,"</h2>\n    <span>").concat(t,"</span>\n    </li>")})).join("")}observer.observe(guard);
//# sourceMappingURL=artem.40c04d2b.js.map
